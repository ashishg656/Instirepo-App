package com.example.faceless.fragments;

import java.util.HashMap;
import java.util.Map;

import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ListView;

import com.android.volley.AuthFailureError;
import com.android.volley.VolleyError;
import com.android.volley.Response.ErrorListener;
import com.android.volley.Response.Listener;
import com.android.volley.toolbox.StringRequest;
import com.example.faceless.R;
import com.example.faceless.application.ZApplication;
import com.example.faceless.extras.RequestTags;
import com.example.faceless.preferences.ZPreferences;

public class AllChannelsFragment extends BaseFragment implements RequestTags {

	ListView listView;

	@Override
	public View onCreateView(LayoutInflater inflater, ViewGroup container,
			Bundle savedInstanceState) {
		View v = inflater.inflate(R.layout.posts_fragment_layout, container,
				false);

		return v;
	}

	@Override
	public void onActivityCreated(Bundle savedInstanceState) {
		super.onActivityCreated(savedInstanceState);

		StringRequest req = new StringRequest(ZApplication.getBaseUrl()
				+ "all_channels/", new Listener<String>() {

			@Override
			public void onResponse(String res) {
				
			}
		}, new ErrorListener() {
			@Override
			public void onErrorResponse(VolleyError arg0) {
				makeToast("Error " + arg0.getLocalizedMessage());
			}
		}) {
			@Override
			protected Map<String, String> getParams() throws AuthFailureError {
				Map<String, String> params = new HashMap<String, String>();
				params.put("user_profile_id",
						ZPreferences.getUserId(getActivity()));
				return params;
			}
		};
		ZApplication.getInstance().addToRequestQueue(req, Z_ALL_CHANNELS);
	}
}
